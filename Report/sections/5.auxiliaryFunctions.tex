\chapter{Codi}
Per tal de poder resoldre les equacions definides en els apartats anteriors de forma ràpida i eficient, s'ha elaborat un codi \textit{MATLAB}. A fi de simplificar el seu ús i la seva comprensió, el codi està dividit en diferentes funcions amb una tasca definida i clara. Aquestes es detallen a continuació.
\section[Programa principal]{Programa principal \textit{main.m}}
\lstinputlisting[language=Matlab]{../../main.m}
\section[Transfer Orbit]{Transfer Orbit \textit{orbitainterplanetaria.m}}
\label{TransferOrbit}
Funció que calcula els elements orbitals de l'òrbita de transferència. En cas que sigui el·líptica, els resultats s'obtenen gràcies a la funció \textit{solve.m}. En canvi, si és hiperbòlica cal emprar una altra funció desenvolupada a continuació.
\lstinputlisting[language=Matlab]{../../orbita_interplanetaria.m}
\subsection[Hyperbolic transfer orbit]{Hyperbolic transfer orbit \textit{hyperbolicorbit.m}}
Funció que implementa un mètode iteratiu per tal de calcular els elements orbitals d'una òrbita de transferència el·líptica. Cal destacar la importància d'escollir un valor inicial d'iteració adequat, ja que sinó no s'obtenen resultats correctes.
\lstinputlisting[language=Matlab]{../../hyperbolic_orbit.m}
\section[Hipèrbola de sortida]{Hipèrbola de sortida \textit{outHyperbola.m}}
\label{outHyperbola}
\lstinputlisting[language=Matlab]{../../outHyperbola.m}
\section[Posició i velocitat]{Posició i velocitat \textit{OrbitalVectors.m}}
\label{OrbitalVectors}
Càlcul dels vectors de posició i velocitat en funció dels elements orbitals.
\lstinputlisting[language=Matlab]{../../OrbitalVectors.m}
\section[Data Juliana]{Data Juliana \textit{JulianDate.m}}
S'aplica l'algoritme de conversió de data Gregoriana a data Juliana vist a classe \cite[pàg.48]{Calaf2017a}.
\lstinputlisting[language=Matlab]{../../JulianDate.m}
\section[Correcció d'angles]{Correcció d'angles \textit{checkTangent.m}}
Aquesta funció simplement s'encarrega de rebre un quocient i, segons el signe, decidir en quin quadrant situar l'angle que s'obté en calcular l'arc tangent.
\lstinputlisting[language=Matlab]{../../checkTangent.m}
